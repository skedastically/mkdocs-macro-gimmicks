{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome","text":"<p>This is my personal repo to share some mkdocs tricks I figured out. Right now it's just some macros.</p> <ul><li>Installation</li><li>Macros reference &gt; List directory files</li><li>Examples</li></ul> <p>If you find a problem with the code or docs, please open an issue.</p>"},{"location":"install/","title":"Installation","text":"<p>Assuming you're inside your mkdocs project directory...</p>"},{"location":"install/#1-install-macros","title":"1. Install macros","text":"<p>Install macros via mkdocs-macro-plugin as well as required packages</p> <pre><code>pip install mkdocs-macro-plugin mrkdwn_analysis pathspec python-frontmatter\n</code></pre> <p>And include it in your <code>mkdocs.yml</code> file:</p> <pre><code>plugins:\n  - search\n  - macros\n</code></pre>"},{"location":"install/#2-create-an-mkdocs-hook","title":"2. Create an mkdocs hook","text":"<p>Add an mkdocs hook e.g. <code>hooks.py</code> in your project's root directory (not the docs directory) with the following content:</p> ./hooks.py <pre><code># hooks.py\ndef on_nav(nav, config, files):\n    # overrides config.nav for macros use\n    config.nav = nav\n    return nav\n</code></pre> <p>This is important for use in listnavs(), as it allows the macro to receive nav events from mkdocs/other plugins.</p>"},{"location":"install/#3-create-mainpy","title":"3. Create <code>main.py</code>:","text":"<p>Copy the contents of main.py into the project directory.</p> <p>With wget:</p> <pre><code>wget https://raw.githubusercontent.com/skedastically/mkdocs-macro-gimmicks/main/main.py\n</code></pre> <p>Now you can start using commands such as <code>{{ listfiles() }}</code> and see their results during <code>mkdocs serve</code></p>"},{"location":"install/#further-resources","title":"Further resources","text":"<ul> <li>mkdocs-macro-plugin's website</li> </ul>"},{"location":"examples/","title":"Examples","text":"<p>The directory details of <code>./example</code> is as below</p> Tree<code>./.nav.yml</code><code>./another-section/.nav.yml</code> <pre><code>.\n\u251c\u2500\u2500 _hidden.md\n\u251c\u2500\u2500 another-section\n\u2502   \u251c\u2500\u2500 firstpage.md\n\u2502   \u251c\u2500\u2500 README.md\n\u2502   \u2514\u2500\u2500 .nav.yml\n\u251c\u2500\u2500 bar.md\n\u251c\u2500\u2500 foo.py\n\u2514\u2500\u2500 index.md\n</code></pre> <pre><code>nav:\n  - index.md\n  - A File: a-section/a-section.md\n  - Example website: https://example.com\n  - \"*\"\n</code></pre> <pre><code>nav:\n  - firstpage.md\n  - readme.md\n</code></pre>"},{"location":"examples/#list-all-files-including-markdown","title":"List all files including Markdown","text":"<pre><code>{{ listfiles(excludeMarkdown = False, squeeze = True) }}\n</code></pre>"},{"location":"examples/#result","title":"Result","text":"<ul><li>baz.md</li><li>foo.py</li><li>index.md</li><li>non-index-page.md</li></ul>"},{"location":"examples/#list-all-files-without-markdown-and-with-larger-list-paddings","title":"List all files without Markdown and with larger list paddings","text":"<pre><code>{{ listfiles(squeeze = True) }}\n</code></pre>"},{"location":"examples/#result_1","title":"Result","text":"<ul><li>foo.py</li></ul>"},{"location":"examples/#list-navigations-unsqueezed-and-with-current-page","title":"List navigations unsqueezed and with current page","text":"<pre><code>{{ listnav(excludeCurrentPage = False, squeeze = False) }}\n</code></pre>"},{"location":"examples/#result_2","title":"Result","text":"<ul><li><p>Examples</p></li><li><p>A File</p></li><li><p>Example website</p></li><li><p>baz.md file</p></li><li><p>Non-index.md navs and files</p></li><li><p>Another section</p></li></ul>"},{"location":"examples/#list-navigations-starting-from-root-and-without-navindex","title":"List navigations starting from root and without navIndex","text":"<pre><code>{{ listnav(rootNav = True, navIndex = False) }}\n</code></pre>"},{"location":"examples/#result_3","title":"Result","text":"<ul><li>Welcome</li><li>Installation</li><li>Macros reference &gt; List directory files</li><li>Examples &gt; Examples</li></ul> <p>Info</p> <p>The README.md page is now taken as the section's representative page</p>"},{"location":"examples/#list-navigations-with-depth1","title":"List navigations with depth=1","text":"<pre><code>{{ listnav(depth = 1) }}\n</code></pre>"},{"location":"examples/#result_4","title":"Result","text":"<ul><li>A File</li><li>Example website</li><li>baz.md file</li><li>Non-index.md navs and files</li><li>Another section<ul><li>firstpage</li></ul></li></ul>"},{"location":"examples/#content-tab-that-shows-files-first-and-doesnt-exclude-current-page","title":"Content tab that shows files first and doesn't exclude current page","text":"<pre><code>{{ tabnav(features=\"files,nav\", excludeCurrentPage = False) }}\n</code></pre>"},{"location":"examples/#result_5","title":"Result","text":"\ud83d\udcc4 - Files\ud83d\udd17 - Navigation <p><ul><li>foo.py</li></ul></p> <p><ul><li>Examples</li><li>A File</li><li>Example website</li><li>baz.md file</li><li>Non-index.md navs and files</li><li>Another section</li></ul></p>"},{"location":"examples/baz/","title":"baz.md file","text":"<p>Honestly this is just a sample file</p>"},{"location":"examples/non-index-page/","title":"Non-index.md navs and files","text":"<p>listfiles() and listnavs() can work here too</p>"},{"location":"examples/non-index-page/#listfiles","title":"listfiles()","text":"<pre><code>{{ listfiles() }}\n</code></pre>"},{"location":"examples/non-index-page/#result","title":"Result","text":"<ul><li>foo.py</li></ul>"},{"location":"examples/non-index-page/#listnav","title":"listnav()","text":"<pre><code>```\n{{ listnav(excludeCurrentPage = True) }}\n```\n</code></pre>"},{"location":"examples/non-index-page/#result_1","title":"Result","text":"<ul><li>Examples</li><li>A File</li><li>Example website</li><li>baz.md file</li><li>Another section</li></ul> <p>Note</p> <p>With <code>excludeCurrentPage = True</code>, <code>bar.md</code> is now excluded and <code>index.md</code> (titled \"Examples\") is now included</p>"},{"location":"examples/a-section/a-section/","title":"A File","text":"<p>This file's path is in <code>/examples/a-section/a-section.md</code>, but is part of the <code>Example</code> Section due to <code>.nav.yml</code> resolution.</p>"},{"location":"examples/another-section/","title":"Index","text":"<p>This page is supposed to be the section's index page. However, it isn't ordered first in this <code>another-section</code> Section.</p>"},{"location":"examples/another-section/firstpage/","title":"firstpage","text":"<p>This page is supposed to be ordered first in \"another-section\" Section.</p>"},{"location":"macros-reference/listfiles/","title":"List directory files","text":"<p>To list files of a page's current directory, simply call </p> <pre><code>{{ listfiles() }}\n</code></pre> <p>As a feature, this function also match ignore patterns in mkdocs.yml's <code>exclude_docs:</code> parameter, so hidden files can stay outside of the list.</p> <p>This function should not be called inside a paragraph/another element block as it won't render properly.</p> <p>Nested listings are not supported (yet?)</p>"},{"location":"macros-reference/listfiles/#flags","title":"Flags","text":"<p>You can also include these flags inside listfiles e.g. with <code>listfiles(title = True, squeeze = False)</code></p> Name Default value Description <code>title</code> <code>False</code> Title of the files list inside an <code>&lt;h2&gt;</code> element, provided as a string. Also defaults to \"Files in this directory\" if <code>True</code>, and no title if <code>False</code> <code>excludeMarkdown</code> <code>True</code> Whether to exclude Markdown files from list <code>squeeze</code> <code>False</code> Whether to render single-spaced lists (<code>True</code>) that looks squeezed rather than double-spaced lists (<code>False</code>)"},{"location":"macros-reference/listnav/","title":"List navigations","text":"<p>To list navigations<sup>1</sup> within a page's section, use</p> <pre><code>{{ listnav() }}\n</code></pre> <p>This function will iterate through a page's siblings and their descendants. It'll return a tree-like nested list of navigations with </p> <p>This function should not be called inside a paragraph/another element block as it won't render properly.</p>"},{"location":"macros-reference/listnav/#usage-with-awesome-nav","title":"Usage with awesome-nav","text":"<p><code>listnav()</code> can be used with awesome-nav, provided that you configured the hook and list the <code>macros</code> plugin after <code>awesome-nav</code>:</p> ./mkdocs.yml <pre><code>hooks:\n  - hooks.py\nplugins:\n  - search\n  - awesome-nav\n  - macros\n</code></pre>"},{"location":"macros-reference/listnav/#flags","title":"Flags","text":"<p>You can also include these flags inside listnavs i.e. with <code>listnavs(excludeCurrentPage = False)</code></p> Name Default value Description <code>depth</code> <code>0</code> Depth of navigation tree. 0 means only the current siblings are listed <code>navIndex</code> <code>True</code> Attach <code>index.md</code> or <code>README.md</code> to a section's bulletpoint. Similar to mkdocs-material's <code>navigation.indexes</code> <code>excludeCurrentPage</code> <code>True</code> Whether to exclude current page from nav list <code>rootNav</code> <code>False</code> If <code>True</code>, returns navigation from root dir regardless of current page <code>squeeze</code> <code>True</code> If <code>False</code>, rendered lists are more vertically spaced. Works better in <code>mkdocs</code> and <code>readthedocs</code> themes"},{"location":"macros-reference/listnav/#caveats","title":"Caveats","text":"<p><code>listnav()</code> tries its best to mimic Mkdocs-material's navigation sidebar, hence these opinionated setups..</p> <ul> <li>Page titles are derived from the following order:<ul> <li><code>page.title</code> as found in the Page object if exists</li> <li>Their frontmatter's <code>title</code> field if exists</li> <li>Their first heading if exists</li> <li>Their filename</li> </ul> </li> <li>Section listings are bolded</li> <li>When <code>navIndex=True</code>, section titles are used in lieu of the section index page's title.</li> <li>When <code>navIndex=True</code> and on final depth level, any section without an index page will link to its first available page. The listing will be written as \"Section &gt; Page title\"</li> <li>Furthermore, links to other pages are relatively resolved from current page. This is to accommodate both subpaths and root-path mkdocs deployments.</li> </ul> <ol> <li> <p>links to other objects like Sections and Pages\u00a0\u21a9</p> </li> </ol>"},{"location":"macros-reference/tabs/","title":"Files + Navs content tabs","text":"<p>The <code>{{ tabnav() }}</code> function provides selectable content tabs to view both files and navigations. For instance, the tabnav() of this directory has no files:</p> <pre><code>{{ tabnav(excludeCurrentPage = False) }}\n</code></pre> \ud83d\udd17 - Navigation\ud83d\udcc4 - Files <p><ul><li>List directory files</li><li>List navigations</li><li>Files + Navs content tabs</li></ul></p> <p><ul></ul></p> <p>This function should not be called inside a paragraph/another element block as it won't render properly.</p> <p>Content tabs are an mkdocs-material only feature</p>"},{"location":"macros-reference/tabs/#flags","title":"Flags","text":"Name Default value Description <code>features</code> <code>nav,files</code> Comma-separated feature list, of which valid variables are <code>nav</code> and <code>files</code> <code>navTitle</code> <code>\"\ud83d\udcc4 - Files\"</code> Title for the navigation content tab <code>filesTitle</code> <code>\"\ud83d\udd17 - Navigation\"</code> Title for the files content tab <code>findSectionIndex</code> <code>True</code> (from <code>listnavs()</code>) Attempt to find and use <code>index.md</code> or <code>README.md</code> as a subsection's index file, and fallback to whatever is the first file provided for that subsection's items list if nothing's found <code>excludeCurrentPage</code> <code>True</code> (from <code>listnavs()</code>) Whether to exclude current page from nav list <code>excludeMarkdown</code> <code>True</code> (from <code>listfiles()</code>) Whether to exclude Markdown files from list <code>squeeze</code> <code>True</code> Whether to render single-spaced lists (<code>True</code>) that looks squeezed rather than double-spaced lists (<code>False</code>)"}]}