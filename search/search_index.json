{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome","text":"<p>This is my personal repo to share some mkdocs tricks I figured out. Right now it's just some macros.</p> <ul><li>Installation</li><li>Macros reference &gt; List directory files</li><li>Examples</li></ul> <p>If you find a problem with the code or docs, please open an issue.</p>"},{"location":"install/","title":"Installation","text":"<p>Assuming you're inside your mkdocs project directory...</p>"},{"location":"install/#1-install-macros","title":"1. Install macros","text":"<p>Install macros via mkdocs-macro-plugin as well as required packages</p> <pre><code>pip install mkdocs-macro-plugin mrkdwn_analysis pathspec python-frontmatter\n</code></pre> <p>And include it in your <code>mkdocs.yml</code> file:</p> <pre><code>plugins:\n  - search\n  - macros\n</code></pre>"},{"location":"install/#2-create-an-mkdocs-hook","title":"2. Create an mkdocs hook","text":"<p>Add an mkdocs hook e.g. <code>hooks.py</code> in your project's root directory (not the docs directory) with the following content:</p> hooks.py<pre><code>def on_nav(nav, config, files):\n    # overrides config.nav for macros use\n    config.nav = nav\n    return nav\n</code></pre> <p>This is important for use in lsnav(), as it allows the macro to receive nav events from mkdocs/other plugins.</p>"},{"location":"install/#3-create-mainpy","title":"3. Create <code>main.py</code>:","text":"<p>Copy the contents of main.py into the project directory.</p> <p>With wget:</p> <pre><code>wget https://raw.githubusercontent.com/skedastically/mkdocs-macro-gimmicks/main/main.py\n</code></pre> <p>Now you can start using commands such as <code>{{ lsdir() }}</code> and see their results during <code>mkdocs serve</code></p>"},{"location":"install/#further-resources","title":"Further resources","text":"<ul> <li>mkdocs-macro-plugin's website</li> </ul>"},{"location":"examples/","title":"Examples","text":"<p>The directory details of <code>./example</code> is as below</p> Directory tree<code>./.nav.yml</code><code>./another-section/.nav.yml</code> tree<pre><code>.\n\u251c\u2500\u2500 .hiddenfile.txt\n\u251c\u2500\u2500 .nav.yml\n\u251c\u2500\u2500 _hidden.md\n\u251c\u2500\u2500 a-section\n\u2502   \u251c\u2500\u2500 a-section.md\n\u2502   \u251c\u2500\u2500 anotherdir\n\u2502   \u2502   \u251c\u2500\u2500 depth-2-page.md\n\u2502   \u2502   \u2514\u2500\u2500 textfile.txt\n\u2502   \u2514\u2500\u2500 test.ipynb\n\u251c\u2500\u2500 another-section\n\u2502   \u251c\u2500\u2500 .nav.yml\n\u2502   \u251c\u2500\u2500 README.md\n\u2502   \u251c\u2500\u2500 example.toml\n\u2502   \u2514\u2500\u2500 firstpage.md\n\u251c\u2500\u2500 baz.md\n\u251c\u2500\u2500 foo.py\n\u251c\u2500\u2500 index.md\n\u2514\u2500\u2500 non-index-page.md\n</code></pre> .nav.yml<pre><code>nav:\n  - index.md\n  - A File: a-section/a-section.md\n  - Example website: https://example.com\n  - \"*\"\n</code></pre> ./another-section/.nav.yml<pre><code>nav:\n  - firstpage.md\n  - README.md\n</code></pre>"},{"location":"examples/#list-all-files-in-current-directory","title":"List all files in current directory","text":"Smaller paddingsLarger paddings <pre><code>{{ lsdir() }}\n</code></pre> <pre><code>{{ lsdir(squeeze=False) }}\n</code></pre>"},{"location":"examples/#result","title":"Result","text":"<p><ul><li>foo.py</li></ul></p>"},{"location":"examples/#result_1","title":"Result","text":"<p><ul><li><p>foo.py</p></li></ul></p>"},{"location":"examples/#list-directories-and-files-at-depth-0","title":"List directories and files at depth &gt; 0","text":"<code>depth=1</code><code>depth=2</code> <pre><code>{{ lsdir(depth=1) }}\n</code></pre> <pre><code>{{ lsdir(depth=2) }}\n</code></pre>"},{"location":"examples/#result_2","title":"Result","text":"<p><ul><li>\ud83d\udcc1 a-section<ul><li>test.ipynb</li></ul></li><li>\ud83d\udcc1 another-section<ul><li>example.toml</li></ul></li><li>foo.py</li></ul></p>"},{"location":"examples/#result_3","title":"Result","text":"<p><ul><li>\ud83d\udcc1 a-section<ul><li>\ud83d\udcc1 anotherdir<ul><li>textfile.txt</li></ul></li><li>test.ipynb</li></ul></li><li>\ud83d\udcc1 another-section<ul><li>example.toml</li></ul></li><li>foo.py</li></ul></p>"},{"location":"examples/#list-directories-and-files-at-depth-0-but-with-showemptydirstrue","title":"List directories and files at depth &gt; 0, but with <code>showEmptyDirs=True</code>","text":"<code>depth=1</code><code>depth=2</code> <pre><code>{{ lsdir(depth=1,showEmptyDirs=True) }}\n</code></pre> <pre><code>{{ lsdir(depth=2,showEmptyDirs=True) }}\n</code></pre>"},{"location":"examples/#result_4","title":"Result","text":"<p><ul><li>\ud83d\udcc1 a-section<ul><li>\ud83d\udcc1 anotherdir</li><li>test.ipynb</li></ul></li><li>\ud83d\udcc1 another-section<ul><li>example.toml</li></ul></li><li>foo.py</li></ul></p>"},{"location":"examples/#result_5","title":"Result","text":"<p><ul><li>\ud83d\udcc1 a-section<ul><li>\ud83d\udcc1 anotherdir<ul><li>textfile.txt</li></ul></li><li>test.ipynb</li></ul></li><li>\ud83d\udcc1 another-section<ul><li>example.toml</li></ul></li><li>foo.py</li></ul></p>"},{"location":"examples/#list-all-non-markdown-non-excluded-files-and-folders-from-root-path","title":"List all non-Markdown, non-excluded files and folders from root path","text":"<pre><code>{{ lsdir(depth=42,targetDir=\".\",showEmptyDirs=True) }}\n</code></pre> <p>Tip</p> <p>Just use a big depth number e.g. 42 if you wanna walk every subdir</p>"},{"location":"examples/#result_6","title":"Result","text":"<ul><li>\ud83d\udcc1 examples<ul><li>\ud83d\udcc1 a-section<ul><li>\ud83d\udcc1 anotherdir<ul><li>textfile.txt</li></ul></li><li>test.ipynb</li></ul></li><li>\ud83d\udcc1 another-section<ul><li>example.toml</li></ul></li><li>foo.py</li></ul></li><li>\ud83d\udcc1 macros-reference</li></ul>"},{"location":"examples/#list-navigations","title":"List navigations","text":"With <code>navIndex=True</code>With <code>navIndex=False</code> <pre><code>{{ lsnav() }}\n</code></pre> <pre><code>{{ lsnav(navIndex=False) }}\n</code></pre>"},{"location":"examples/#result_7","title":"Result","text":"<p><ul><li>A File</li><li>Example website</li><li>baz.md file</li><li>Non-index.md navs and files</li><li>A section</li><li>Another section</li></ul></p> <p>\"A File\" is included as it was listed in <code>.nav.yml</code> as part of this section</p>"},{"location":"examples/#result_8","title":"Result","text":"<p><ul><li>A File</li><li>Example website</li><li>baz.md file</li><li>Non-index.md navs and files</li><li>A section</li><li>Another section &gt; Readme</li></ul> </p> <p>\"A File\" is included as it was listed in <code>.nav.yml</code> as part of this section</p> <p>The README.md page is now treated as a normal page inside the \"Another section\" section</p>"},{"location":"examples/#list-full-depth-navigations-starting-from-root-and-without-navindex","title":"List full-depth navigations starting from root and without navIndex","text":"Smaller paddingsLarger paddings <pre><code>{{ lsnav(depth=42, rootNav = True, navIndex = False) }}\n</code></pre> <pre><code>{{ lsnav(depth=42, rootNav = True, navIndex = False, squeeze=False) }}\n</code></pre>"},{"location":"examples/#result_9","title":"Result","text":"<p><ul><li>Welcome</li><li>Installation</li><li>Macros reference<ul><li>List directory files</li><li>List navigations</li><li>Files + Navs content tabs</li></ul></li><li>Examples<ul><li>Examples</li><li>A File</li><li>Example website</li><li>baz.md file</li><li>Non-index.md navs and files</li><li>A section<ul><li>Anotherdir<ul><li>Depth-2-page</li></ul></li></ul></li><li>Another section<ul><li>firstpage</li><li>Readme</li></ul></li></ul></li></ul></p>"},{"location":"examples/#result_10","title":"Result","text":"<p><ul><li><p>Welcome</p></li><li><p>Installation</p></li><li><p>Macros reference</p><ul><li><p>List directory files</p></li><li><p>List navigations</p></li><li><p>Files + Navs content tabs</p></li></ul></li><li><p>Examples</p><ul><li><p>Examples</p></li><li><p>A File</p></li><li><p>Example website</p></li><li><p>baz.md file</p></li><li><p>Non-index.md navs and files</p></li><li><p>A section</p><ul><li><p>Anotherdir</p><ul><li><p>Depth-2-page</p></li></ul></li></ul></li><li><p>Another section</p><ul><li><p>firstpage</p></li><li><p>Readme</p></li></ul></li></ul></li></ul></p>"},{"location":"examples/#list-navigations-across-multiple-depths","title":"List navigations across multiple depths","text":"<code>depth=1</code><code>depth=2</code> <pre><code>{{ lsnav(depth = 1) }}\n</code></pre> <pre><code>{{ lsnav(depth = 2) }}\n</code></pre>"},{"location":"examples/#result_11","title":"Result","text":"<p><ul><li>A File</li><li>Example website</li><li>baz.md file</li><li>Non-index.md navs and files</li><li>A section<ul><li>Anotherdir &gt; Depth-2-page</li></ul></li><li>Another section<ul><li>firstpage</li></ul></li></ul></p>"},{"location":"examples/#result_12","title":"Result","text":"<p><ul><li>A File</li><li>Example website</li><li>baz.md file</li><li>Non-index.md navs and files</li><li>A section<ul><li>Anotherdir<ul><li>Depth-2-page</li></ul></li></ul></li><li>Another section<ul><li>firstpage</li></ul></li></ul></p>"},{"location":"examples/#content-tab-that-shows-files-first-at-full-depth-and-doesnt-exclude-anything","title":"Content tab that shows files first, at full depth, and doesn't exclude anything","text":"<pre><code>{{ tabnav(depth=42,features=\"files,nav\", excludeCurrentPage = False, showEmptyDirs=True) }}\n</code></pre>"},{"location":"examples/#result_13","title":"Result","text":"\ud83d\udcc2 - Directory listing\ud83d\udd17 - Navigation <p><ul><li>\ud83d\udcc1 a-section<ul><li>\ud83d\udcc1 anotherdir<ul><li>textfile.txt</li></ul></li><li>test.ipynb</li></ul></li><li>\ud83d\udcc1 another-section<ul><li>example.toml</li></ul></li><li>foo.py</li></ul></p> <p><ul><li>Examples</li><li>A File</li><li>Example website</li><li>baz.md file</li><li>Non-index.md navs and files</li><li>A section<ul><li>Anotherdir<ul><li>Depth-2-page</li></ul></li></ul></li><li>Another section<ul><li>firstpage</li></ul></li></ul></p>"},{"location":"examples/baz/","title":"baz.md file","text":"<p>Honestly this is just a sample file</p>"},{"location":"examples/non-index-page/","title":"Non-index.md navs and files","text":"<p>lsdir() and lsnavs() can work here too</p>"},{"location":"examples/non-index-page/#lsdir","title":"lsdir()","text":"<pre><code>{{ lsdir() }}\n</code></pre>"},{"location":"examples/non-index-page/#result","title":"Result","text":"<ul><li>foo.py</li></ul>"},{"location":"examples/non-index-page/#lsnav","title":"lsnav()","text":"<pre><code>```\n{{ lsnav(excludeCurrentPage = True) }}\n```\n</code></pre>"},{"location":"examples/non-index-page/#result_1","title":"Result","text":"<ul><li>Examples</li><li>A File</li><li>Example website</li><li>baz.md file</li><li>A section</li><li>Another section</li></ul> <p>Note</p> <p>With <code>excludeCurrentPage = True</code>, <code>bar.md</code> is now excluded and <code>index.md</code> (titled \"Examples\") is now included</p>"},{"location":"examples/a-section/a-section/","title":"A File","text":"<p>This file's path is in <code>/examples/a-section/a-section.md</code>, but is part of the <code>Example</code> Section due to <code>.nav.yml</code> resolution.</p>"},{"location":"examples/a-section/anotherdir/depth-2-page/","title":"Depth 2 page","text":"<p>This Markdown file is 2-level deep counting from examples/</p>"},{"location":"examples/another-section/","title":"Index","text":"<p>This page is supposed to be the section's index page. However, it isn't ordered first in this <code>another-section</code> Section.</p>"},{"location":"examples/another-section/firstpage/","title":"firstpage","text":"<p>This page is supposed to be ordered first in \"another-section\" Section.</p>"},{"location":"macros-reference/lsdir/","title":"List directory files","text":"<p>To list files of a page's current directory, simply call </p> <pre><code>{{ lsdir() }}\n</code></pre> <p>This function will walk current page's directory and list files/folders accordingly. With <code>depth &gt; 0</code>, it'll also tries subdirectories and return them as nested listings.</p> <p>This function should not be called inside a paragraph/another element block as it won't render properly.</p> <p>Note the differences</p> <p><code>lsdir()</code> walks a page's current directory to find siblings and niblings. <code>lsnav()</code> on the other hand walks a page's current Navigation, which is an mkdocs-generated object that is not representative of the underlying files.</p>"},{"location":"macros-reference/lsdir/#flags","title":"Flags","text":"<p>You can also include these flags inside lsdir e.g. with <code>lsdir(depth = 2, squeeze = False)</code></p> Name Default value Description <code>depth</code> <code>0</code> Depth of directory tree. 0 means only the current siblings are listed <code>targetDir</code> None Directory to list in string format, relative to docs_dir <code>showEmptyDirs</code> <code>False</code> Show dirs without any files and dirs at final depth <code>squeeze</code> <code>True</code> If <code>False</code>, rendered lists are more vertically spaced. Works better in <code>mkdocs</code> and <code>readthedocs</code> themes <code>listStyle</code> <code>\u2514\u2500</code> Style of list's marker. To use official values, append with <code>css:</code>"},{"location":"macros-reference/lsdir/#caveats","title":"Caveats","text":"<ul> <li>Instead of using the Files object, <code>lsdir()</code> walks the file directory on the current machine. This may be subject to filesystem quirks and features.</li> <li>As they've already been rendered to pages, Markdown files are not listed and won't be found</li> <li>Dir/file order is arbitrary. No sort available.</li> </ul>"},{"location":"macros-reference/lsnav/","title":"List navigations","text":"<p>To list navigations<sup>1</sup> within a page's section, use</p> <pre><code>{{ lsnav() }}\n</code></pre> <p>This function will iterate through a page's siblings and their descendants. It'll return a tree-like nested list of navigations with </p> <p>This function should not be called inside a paragraph/another element block as it won't render properly.</p>"},{"location":"macros-reference/lsnav/#usage-with-awesome-nav","title":"Usage with awesome-nav","text":"<p><code>lsnav()</code> can be used with awesome-nav, provided that you configured the hook and list the <code>macros</code> plugin after <code>awesome-nav</code>:</p> ./mkdocs.yml <pre><code>hooks:\n  - hooks.py\nplugins:\n  - search\n  - awesome-nav\n  - macros\n</code></pre>"},{"location":"macros-reference/lsnav/#flags","title":"Flags","text":"<p>You can also include these flags inside lsnav i.e. with <code>lsnav(excludeCurrentPage = False)</code></p> Name Default value Description <code>depth</code> <code>0</code> Depth of navigation tree. 0 means only the current siblings are listed <code>navIndex</code> <code>True</code> Attach <code>index.md</code> or <code>README.md</code> to a section's bulletpoint. Similar to mkdocs-material's <code>navigation.indexes</code> <code>excludeCurrentPage</code> <code>True</code> Whether to exclude current page from nav list <code>rootNav</code> <code>False</code> If <code>True</code>, returns navigation from root dir regardless of current page <code>squeeze</code> <code>True</code> If <code>False</code>, rendered lists are more vertically spaced. Works better in <code>mkdocs</code> and <code>readthedocs</code> themes <code>listStyle</code> <code>css:square</code> Style of list's marker. To use official values, append with <code>css:</code>"},{"location":"macros-reference/lsnav/#caveats","title":"Caveats","text":"<p><code>lsnav()</code> tries its best to mimic Mkdocs-material's navigation sidebar, hence these opinionated setups..</p> <ul> <li>Page titles are derived from the following order:<ul> <li><code>page.title</code> as found in the Page object if exists</li> <li>Their frontmatter's <code>title</code> field if exists</li> <li>Their first heading if exists</li> <li>Their filename</li> </ul> </li> <li>Section listings are bolded</li> <li>When <code>navIndex=True</code>, section titles are used in lieu of the section index page's title.</li> <li>When <code>navIndex=True</code> and on final depth level, any section without an index page will link to its first available page. The listing will be written as \"Section &gt; Page title\"</li> <li>Furthermore, links to other pages are relatively resolved from current page. This is to accommodate both subpaths and root-path mkdocs deployments.</li> </ul> <ol> <li> <p>links to other objects like Sections and Pages\u00a0\u21a9</p> </li> </ol>"},{"location":"macros-reference/tabs/","title":"Files + Navs content tabs","text":"<p>The <code>{{ tabnav() }}</code> function provides selectable content tabs that can view both files and navigations. For instance, the tabnav() of this directory has no files:</p> <pre><code>{{ tabnav(excludeCurrentPage = False) }}\n</code></pre> \ud83d\udd17 - Navigation\ud83d\udcc2 - Directory listing <p><ul><li>List directory files</li><li>List navigations</li><li>Files + Navs content tabs</li></ul></p> <p>This function should not be called inside a paragraph/another element block as it won't render properly.</p> <p>Content tabs are an mkdocs-material only feature</p>"},{"location":"macros-reference/tabs/#flags","title":"Flags","text":"<p>The flags are combined from lsnav() and lsdir()</p> Name Default value Description <code>features</code> <code>nav,files</code> Comma-separated feature list, of which valid variables are <code>nav</code> and <code>files</code> <code>depth</code> <code>0</code> Depth of directory and nav trees <code>navTitle</code> <code>\"\ud83d\udcc2 - Directory\"</code> Title for the navigation content tab <code>dirTitle</code> <code>\"\ud83d\udd17 - Navigation\"</code> Title for the directory content tab <code>squeeze</code> <code>True</code> If <code>False</code>, rendered lists are more vertically spaced. Works better in <code>mkdocs</code> and <code>readthedocs</code> themes <code>navDepth</code> None Depth level for navigation tree. Overrides <code>depth</code> if set <code>navIndex</code> <code>True</code> Attach <code>index.md</code> or <code>README.md</code> to a section's bulletpoint. <code>excludeCurrentPage</code> <code>True</code> Whether to exclude current page from nav list <code>dirDepth</code> None Depth level for directory tree. Overrides <code>depth</code> if set <code>rootNav</code> <code>False</code> If <code>True</code>, returns navigation from root dir regardless of current page <code>targetDir</code> <code>None</code> Directory to list in string format, relative to docs_dir <code>showEmptyDirs</code> <code>False</code> Show dirs without any files and dirs at final depth"}]}